{"links": {"self": {"href": "data/repositories/osrf/gazebo_models/pullrequests/99/comments/3622009.json"}, "html": {"href": "#!/osrf/gazebo_models/pull-requests/99/_/diff#comment-3622009"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 99, "links": {"self": {"href": "data/repositories/osrf/gazebo_models/pullrequests/99.json"}, "html": {"href": "#!/osrf/gazebo_models/pull-requests/99"}}, "title": "Added wedge-juggler, schaal-juggler, and passive-dynamic-walker models"}, "content": {"raw": "I have a custom install of bullet 2.83, and needed to adjust cmake for the schaal-juggler to make things compile:\n\n~~~\ndiff -r d04b714b4233 schaal-juggler/CMakeLists.txt\n--- a/schaal-juggler/CMakeLists.txt\tWed Oct 08 18:52:25 2014 +0000\n+++ b/schaal-juggler/CMakeLists.txt\tMon Oct 27 14:45:12 2014 -0700\n@@ -12,12 +12,29 @@\n link_directories(${GAZEBO_LIBRARY_DIRS})\n \n # attempt to find bullet\n-find_package (Bullet)\n+# find_package (Bullet)\n+#################################################\n+# Find bullet\n+# First and preferred option is to look for bullet standard pkgconfig,\n+# so check it first. if it is not present, check for the OSRF\n+# custom bullet2.82.pc file\n+pkg_check_modules(BULLET bullet>=2.82)\n+if (NOT BULLET_FOUND)\n+   pkg_check_modules(BULLET bullet2.82>=2.82)\n+endif()\n+\n if (BULLET_FOUND)\n+  set (HAVE_BULLET TRUE)\n   add_definitions (-DHAVE_BULLET)\n-  include_directories (BULLET_INCLUDE_DIRS)\n-  link_directories (BULLET_LIBRARIES)\n-endif (BULLET_FOUND)\n+  add_definitions( -DLIBBULLET_VERSION=${BULLET_VERSION} )\n+  include_directories(${BULLET_INCLUDE_DIRS})\n+  link_directories(${BULLET_LIBRARY_DIRS})\n+  add_definitions(${BULLET_CFLAGS})\n+else()\n+  set (HAVE_BULLET FALSE)\n+  add_definitions( -DLIBBULLET_VERSION=0.0 )\n+  BUILD_WARNING (\"Bullet > 2.82 not found, for bullet physics engine option, please install libbullet2.82-dev.\")\n+endif()\n \n add_library(juggler SHARED controller.cpp WorldParams.cpp)\n target_link_libraries(juggler ${GAZEBO_LIBRARIES} ${Boost_LIBRARIES})\n~~~", "markup": "markdown", "html": "<p>I have a custom install of bullet 2.83, and needed to adjust cmake for the schaal-juggler to make things compile:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"gh\">diff -r d04b714b4233 schaal-juggler/CMakeLists.txt</span>\n<span class=\"gd\">--- a/schaal-juggler/CMakeLists.txt Wed Oct 08 18:52:25 2014 +0000</span>\n<span class=\"gi\">+++ b/schaal-juggler/CMakeLists.txt Mon Oct 27 14:45:12 2014 -0700</span>\n<span class=\"gu\">@@ -12,12 +12,29 @@</span>\n link_directories(${GAZEBO_LIBRARY_DIRS})\n\n # attempt to find bullet\n<span class=\"gd\">-find_package (Bullet)</span>\n<span class=\"gi\">+# find_package (Bullet)</span>\n<span class=\"gi\">+#################################################</span>\n<span class=\"gi\">+# Find bullet</span>\n<span class=\"gi\">+# First and preferred option is to look for bullet standard pkgconfig,</span>\n<span class=\"gi\">+# so check it first. if it is not present, check for the OSRF</span>\n<span class=\"gi\">+# custom bullet2.82.pc file</span>\n<span class=\"gi\">+pkg_check_modules(BULLET bullet&gt;=2.82)</span>\n<span class=\"gi\">+if (NOT BULLET_FOUND)</span>\n<span class=\"gi\">+   pkg_check_modules(BULLET bullet2.82&gt;=2.82)</span>\n<span class=\"gi\">+endif()</span>\n<span class=\"gi\">+</span>\n if (BULLET_FOUND)\n<span class=\"gi\">+  set (HAVE_BULLET TRUE)</span>\n   add_definitions (-DHAVE_BULLET)\n<span class=\"gd\">-  include_directories (BULLET_INCLUDE_DIRS)</span>\n<span class=\"gd\">-  link_directories (BULLET_LIBRARIES)</span>\n<span class=\"gd\">-endif (BULLET_FOUND)</span>\n<span class=\"gi\">+  add_definitions( -DLIBBULLET_VERSION=${BULLET_VERSION} )</span>\n<span class=\"gi\">+  include_directories(${BULLET_INCLUDE_DIRS})</span>\n<span class=\"gi\">+  link_directories(${BULLET_LIBRARY_DIRS})</span>\n<span class=\"gi\">+  add_definitions(${BULLET_CFLAGS})</span>\n<span class=\"gi\">+else()</span>\n<span class=\"gi\">+  set (HAVE_BULLET FALSE)</span>\n<span class=\"gi\">+  add_definitions( -DLIBBULLET_VERSION=0.0 )</span>\n<span class=\"gi\">+  BUILD_WARNING (&quot;Bullet &gt; 2.82 not found, for bullet physics engine option, please install libbullet2.82-dev.&quot;)</span>\n<span class=\"gi\">+endif()</span>\n\n add_library(juggler SHARED controller.cpp WorldParams.cpp)\n target_link_libraries(juggler ${GAZEBO_LIBRARIES} ${Boost_LIBRARIES})\n</pre></div>", "type": "rendered"}, "created_on": "2014-10-27T21:47:13.359090+00:00", "user": {"display_name": "John Hsu", "uuid": "{0a186eae-abf0-4514-a951-23db5eccc286}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D"}, "html": {"href": "https://bitbucket.org/%7B0a186eae-abf0-4514-a951-23db5eccc286%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:f3968cd3-4910-4384-8349-482a6c7889ec/5445ce6e-6273-47f0-84eb-621c86ca11cb/128"}}, "nickname": "hsu", "type": "user", "account_id": "557058:f3968cd3-4910-4384-8349-482a6c7889ec"}, "updated_on": "2014-10-27T21:47:13.366166+00:00", "type": "pullrequest_comment", "id": 3622009}